
# # sample point cloud
# set.seed(6L)
# pt <- tdaunif::sample_torus_tube(24, 5)
# print(pt)

library(plt)

pt <- structure(
  c(
    -1.18409010378033, -0.492925552645496, -0.955262965067976, 
    0.7693872339696, -1.18209849564551, 0.231940530551277, -0.383806589656335, 
    0.377082744393324, -0.149569944260455, -1.03541319587586, 0.913522581717558, 
    0.547125362602206, 0.84244087892654, -0.0329550239335982, 0.770229409719252, 
    0.35006992674102, 1.08301874482727, -0.516146994921846, 0.891044149382543, 
    0.962798204265673, -1.11792713294176, -0.465490789676859, -1.07955336727697, 
    0.296441904127817, -0.0422632681968727, -0.849309707423578, -0.483547897930887, 
    0.918422437199655, 0.161314562142186, -0.989152945842513, -0.787451383749777, 
    1.10255160026261, 0.931824433310844, -0.427925448165343, -0.692631494823188, 
    -0.851505620812321, 0.853485138301687, -0.899797208908883, -0.919744983332052, 
    1.10679744378313, 0.453654341923057, 0.627691955168233, 0.338448904507173, 
    -0.265703600884115, 0.32797280373866, -0.799304212462224, -0.308311733465164, 
    1.16243085177252, -0.076371828156655, 0.199187367179198, -0.187096183561443, 
    -0.0274638035366797, -0.0522487075509627, -0.199360395389164, 
    -0.156925404301768, 0.112658285989812, 0.191927509149088, 0.159731334781807, 
    0.136247366035176, 0.199631793408588, -0.0175759802897318, 0.173435689907447, 
    -0.0116565012433819, -0.118871738872082, -0.0982670025382964, 
    0.070007888713473, 0.19443684750712, 0.19999633159976, -0.112962466220792, 
    -0.185392692151439, 0.157926380585435, -0.0120833557186779
  ),
  dim = c(24L, 3L),
  dimnames = list(NULL, c("x", "y", "z"))
)

# compute persistence
pd <- as_persistence(ripserr::vietoris_rips(pt, max_dim = 2L, threshold = 2))
print(pd)

# compute persistence landscapes for 0-cycles
pl <- landscape(pd, degree = 1, exact = TRUE)
print(pl)

# convert to and inspect discrete representation
pr <- pl$getDiscrete()
print(pr)
