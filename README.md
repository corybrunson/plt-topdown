
<!-- README.md is generated from README.rmd. Please edit that file -->

# plt

Persistence landscapes are a vectorization of persistence data (also
called persistence diagrams), [originated by Peter
Bubenik](https://jmlr.csail.mit.edu/papers/v16/bubenik15a.html), that
have useful statistical properties including linearity and an inner
product. This is an R package interface to [Paweł Dłotko’s Persistence
Landscapes
Toolbox](https://www2.math.upenn.edu/~dlotko/persistenceLandscape.html),
[developed with
Bubenik](https://www.sciencedirect.com/science/article/pii/S0747717116300104)
to efficienctly compute and calculate with persistence landscapes. It
was adapted from [Jose Bouza’s **tda-tools**
package](https://github.com/jjbouza/tda-tools), a TDA pipeline used by
[Bubenik’s
lab](https://people.clas.ufl.edu/peterbubenik/researchgroup/).

## Installation

Since the package is not on CRAN, we suggest that you install
**remotes** on your system. To do this just open an R session and run:

``` r
install.packages("remotes")
```

Then install the package from the GitHub repository as follows:

``` r
remotes::install_github("corybrunson/plt")
```

Alternatively, you can clone or download the code repository and install
the package from source (from within the directory):

``` r
devtools::install()
```

You should now be able to load the package normally from an R session
using `library("plt")`.

## Quickstart Guide

The **plt** package supports various operations involving persistence
landscapes:

-   Compute persistence landscapes from persistence data
-   Perform Hilbert space operations (vector space operations and an
    inner product) on persistence landscapes
-   Plot persistence landscapes

Examples and tests in **plt** rely on other packages to simulate data
and to compute persistence diagrams from data:

-   **tdaunif** provides functions to sample uniformly from various
    immersed manifolds.
-   **ripserr** and **TDA** provide functions to compute persistence
    data from point clouds and distance matrices.

### Calculation

**plt** introduces the ‘Rcpp_PersistenceLandscape’ S4 class, which is
exposed using **Rcpp** from the underlying ‘PersistenceLandscape’ C++
class. Instances of this class can be created using `new()` but the
recommended way is to use `landscape()`. This function accepts either a
single matrix of persistence data or a persistence diagram object, which
is a specially formatted list containing the first and most important
element `$pairs`. The `$pairs` entry is itself a list, of a 2-column
matrix of persistence pairs for each homological degree from 0
(`$pairs[[1]]`) to the maximum degree calculated. The generic conversion
function `as_persistence()` includes methods for outputs from
`ripserr::vietoris_rips()` and from `TDA::*Diag()`.

To begin an illustration, we noisily sample 60 points from a figure
eight and compute the persistence diagram of the point cloud:

``` r
pc <- tdaunif::sample_lemniscate_gerono(60, sd = .1)
pd <- ripserr::vietoris_rips(pc, max_dim = 1, threshold = 2, p = 2)
print(pd)
#> PHom object containing persistence data for 65 features.
#> 
#> Contains:
#> * 59 0-dim features
#> * 6 1-dim features
#> 
#> Radius/diameter: min = 0; max = 0.69597.
```

We the convert the persistence data to the preferred persistence diagram
format and inspect some of its features:

``` r
pd <- as_persistence(pd)
print(head(pd$pairs[[1]]))
#>      [,1]       [,2]
#> [1,]    0 0.01314843
#> [2,]    0 0.02145396
#> [3,]    0 0.02674752
#> [4,]    0 0.03082286
#> [5,]    0 0.04214678
#> [6,]    0 0.04495049
print(head(pd$pairs[[2]]))
#>           [,1]      [,2]
#> [1,] 0.5828237 0.6959696
#> [2,] 0.3536268 0.5038373
#> [3,] 0.2686798 0.2951548
#> [4,] 0.1687666 0.2110278
#> [5,] 0.1420816 0.1761541
#> [6,] 0.1197737 0.1240787
```

This allows us to compute a persistence landscape—in this case, for the
1-dimensional features. Here we compute the landscape exactly, which can
be cost-prohibitive for larger persistence data:

``` r
pl1 <- landscape(pd, degree = 1, exact = TRUE)
print(pl1)
#> Persistence landscape (exact format) of 2 envelopes over (0.1,0.7)
```

### Class

The object `pl1` is not an array, but rather an object that encapsulates
both the data that encode a landscape and several basic operations that
can be performed on it. This allows us to work with persistence
landscapes without worrying about pre-processing their representations.
At any point, the underlying landscape can be extracted using
`$getInternal()`, which in the case of an exactly calculated landscape
returns a list of 2-column matrices, each matrix containing coordinates
that define one level of the landscape as a piecewise linear function:

``` r
print(length(pl1$getInternal()))
#> [1] 2
print(pl1$getInternal())
#> [[1]]
#>            [,1]        [,2]
#>  [1,]      -Inf 0.000000000
#>  [2,] 0.1197737 0.000000000
#>  [3,] 0.1219262 0.002152494
#>  [4,] 0.1240787 0.000000000
#>  [5,] 0.1420816 0.000000000
#>  [6,] 0.1591178 0.017036227
#>  [7,] 0.1724604 0.003693712
#>  [8,] 0.1898972 0.021130575
#>  [9,] 0.2110278 0.000000000
#> [10,] 0.2686798 0.000000000
#> [11,] 0.2819173 0.013237484
#> [12,] 0.2951548 0.000000000
#> [13,] 0.3536268 0.000000000
#> [14,] 0.4287321 0.075105230
#> [15,] 0.5038373 0.000000000
#> [16,] 0.5828237 0.000000000
#> [17,] 0.6393966 0.056572953
#> [18,] 0.6959696 0.000000000
#> [19,]       Inf 0.000000000
#> 
#> [[2]]
#>           [,1]        [,2]
#> [1,]      -Inf 0.000000000
#> [2,] 0.1687666 0.000000000
#> [3,] 0.1724604 0.003693712
#> [4,] 0.1761541 0.000000000
#> [5,]       Inf 0.000000000
```

The length of this list is the number of levels of the landscape.

An alternative, approximate construction computes the value of each
level of the landscape at each point on a 1-dimensional grid, ranging
from `min_x` to `max_x` at increments of `dx`. A landscape constructed
using a discrete approximation is stored as a 3-dimensional array of
dimensions (levels, values, 2), with one level per feature (some of
which may be trivial) and one value per grid point, stored as $x,y$
pairs along the third dimension.

``` r
pl1d <- landscape(pd, degree = 1, min_x = 0, max_x = 2, dx = 0.01)
print(dim(pl1d$getInternal()))
#> [1]   6 201   2
print(pl1d$getInternal())
#> , , 1
#> 
#>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
#> [1,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#> [2,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#> [3,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#> [4,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#> [5,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#> [6,]    0 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08  0.09   0.1  0.11  0.12  0.13
#>      [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]
#> [1,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#> [2,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#> [3,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#> [4,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#> [5,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#> [6,]  0.14  0.15  0.16  0.17  0.18  0.19   0.2  0.21  0.22  0.23  0.24  0.25
#>      [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37] [,38]
#> [1,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#> [2,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#> [3,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#> [4,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#> [5,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#> [6,]  0.26  0.27  0.28  0.29   0.3  0.31  0.32  0.33  0.34  0.35  0.36  0.37
#>      [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47] [,48] [,49] [,50]
#> [1,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#> [2,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#> [3,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#> [4,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#> [5,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#> [6,]  0.38  0.39   0.4  0.41  0.42  0.43  0.44  0.45  0.46  0.47  0.48  0.49
#>      [,51] [,52] [,53] [,54] [,55] [,56] [,57] [,58] [,59] [,60] [,61] [,62]
#> [1,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#> [2,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#> [3,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#> [4,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#> [5,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#> [6,]   0.5  0.51  0.52  0.53  0.54  0.55  0.56  0.57  0.58  0.59   0.6  0.61
#>      [,63] [,64] [,65] [,66] [,67] [,68] [,69] [,70] [,71] [,72] [,73] [,74]
#> [1,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#> [2,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#> [3,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#> [4,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#> [5,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#> [6,]  0.62  0.63  0.64  0.65  0.66  0.67  0.68  0.69   0.7  0.71  0.72  0.73
#>      [,75] [,76] [,77] [,78] [,79] [,80] [,81] [,82] [,83] [,84] [,85] [,86]
#> [1,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#> [2,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#> [3,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#> [4,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#> [5,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#> [6,]  0.74  0.75  0.76  0.77  0.78  0.79   0.8  0.81  0.82  0.83  0.84  0.85
#>      [,87] [,88] [,89] [,90] [,91] [,92] [,93] [,94] [,95] [,96] [,97] [,98]
#> [1,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#> [2,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#> [3,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#> [4,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#> [5,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#> [6,]  0.86  0.87  0.88  0.89   0.9  0.91  0.92  0.93  0.94  0.95  0.96  0.97
#>      [,99] [,100] [,101] [,102] [,103] [,104] [,105] [,106] [,107] [,108]
#> [1,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#> [2,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#> [3,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#> [4,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#> [5,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#> [6,]  0.98   0.99      1   1.01   1.02   1.03   1.04   1.05   1.06   1.07
#>      [,109] [,110] [,111] [,112] [,113] [,114] [,115] [,116] [,117] [,118]
#> [1,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#> [2,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#> [3,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#> [4,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#> [5,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#> [6,]   1.08   1.09    1.1   1.11   1.12   1.13   1.14   1.15   1.16   1.17
#>      [,119] [,120] [,121] [,122] [,123] [,124] [,125] [,126] [,127] [,128]
#> [1,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#> [2,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#> [3,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#> [4,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#> [5,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#> [6,]   1.18   1.19    1.2   1.21   1.22   1.23   1.24   1.25   1.26   1.27
#>      [,129] [,130] [,131] [,132] [,133] [,134] [,135] [,136] [,137] [,138]
#> [1,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#> [2,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#> [3,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#> [4,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#> [5,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#> [6,]   1.28   1.29    1.3   1.31   1.32   1.33   1.34   1.35   1.36   1.37
#>      [,139] [,140] [,141] [,142] [,143] [,144] [,145] [,146] [,147] [,148]
#> [1,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#> [2,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#> [3,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#> [4,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#> [5,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#> [6,]   1.38   1.39    1.4   1.41   1.42   1.43   1.44   1.45   1.46   1.47
#>      [,149] [,150] [,151] [,152] [,153] [,154] [,155] [,156] [,157] [,158]
#> [1,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#> [2,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#> [3,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#> [4,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#> [5,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#> [6,]   1.48   1.49    1.5   1.51   1.52   1.53   1.54   1.55   1.56   1.57
#>      [,159] [,160] [,161] [,162] [,163] [,164] [,165] [,166] [,167] [,168]
#> [1,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#> [2,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#> [3,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#> [4,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#> [5,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#> [6,]   1.58   1.59    1.6   1.61   1.62   1.63   1.64   1.65   1.66   1.67
#>      [,169] [,170] [,171] [,172] [,173] [,174] [,175] [,176] [,177] [,178]
#> [1,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#> [2,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#> [3,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#> [4,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#> [5,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#> [6,]   1.68   1.69    1.7   1.71   1.72   1.73   1.74   1.75   1.76   1.77
#>      [,179] [,180] [,181] [,182] [,183] [,184] [,185] [,186] [,187] [,188]
#> [1,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#> [2,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#> [3,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#> [4,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#> [5,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#> [6,]   1.78   1.79    1.8   1.81   1.82   1.83   1.84   1.85   1.86   1.87
#>      [,189] [,190] [,191] [,192] [,193] [,194] [,195] [,196] [,197] [,198]
#> [1,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#> [2,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#> [3,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#> [4,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#> [5,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#> [6,]   1.88   1.89    1.9   1.91   1.92   1.93   1.94   1.95   1.96   1.97
#>      [,199] [,200] [,201]
#> [1,]   1.98   1.99      2
#> [2,]   1.98   1.99      2
#> [3,]   1.98   1.99      2
#> [4,]   1.98   1.99      2
#> [5,]   1.98   1.99      2
#> [6,]   1.98   1.99      2
#> 
#> , , 2
#> 
#>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
#> [1,]    0    0    0    0    0    0    0    0    0     0     0     0
#> [2,]    0    0    0    0    0    0    0    0    0     0     0     0
#> [3,]    0    0    0    0    0    0    0    0    0     0     0     0
#> [4,]    0    0    0    0    0    0    0    0    0     0     0     0
#> [5,]    0    0    0    0    0    0    0    0    0     0     0     0
#> [6,]    0    0    0    0    0    0    0    0    0     0     0     0
#>             [,13] [,14] [,15]       [,16]      [,17]       [,18]      [,19]
#> [1,] 0.0002262694     0     0 0.007918382 0.01615407 0.006154072 0.01123335
#> [2,] 0.0000000000     0     0 0.000000000 0.00000000 0.001233351 0.00000000
#> [3,] 0.0000000000     0     0 0.000000000 0.00000000 0.000000000 0.00000000
#> [4,] 0.0000000000     0     0 0.000000000 0.00000000 0.000000000 0.00000000
#> [5,] 0.0000000000     0     0 0.000000000 0.00000000 0.000000000 0.00000000
#> [6,] 0.0000000000     0     0 0.000000000 0.00000000 0.000000000 0.00000000
#>          [,20]     [,21]       [,22] [,23] [,24] [,25] [,26] [,27]       [,28]
#> [1,] 0.0210278 0.0110278 0.001027798     0     0     0     0     0 0.001320156
#> [2,] 0.0000000 0.0000000 0.000000000     0     0     0     0     0 0.000000000
#> [3,] 0.0000000 0.0000000 0.000000000     0     0     0     0     0 0.000000000
#> [4,] 0.0000000 0.0000000 0.000000000     0     0     0     0     0 0.000000000
#> [5,] 0.0000000 0.0000000 0.000000000     0     0     0     0     0 0.000000000
#> [6,] 0.0000000 0.0000000 0.000000000     0     0     0     0     0 0.000000000
#>           [,29]       [,30] [,31] [,32] [,33] [,34] [,35] [,36]       [,37]
#> [1,] 0.01132016 0.005154812     0     0     0     0     0     0 0.006373171
#> [2,] 0.00000000 0.000000000     0     0     0     0     0     0 0.000000000
#> [3,] 0.00000000 0.000000000     0     0     0     0     0     0 0.000000000
#> [4,] 0.00000000 0.000000000     0     0     0     0     0     0 0.000000000
#> [5,] 0.00000000 0.000000000     0     0     0     0     0     0 0.000000000
#> [6,] 0.00000000 0.000000000     0     0     0     0     0     0 0.000000000
#>           [,38]      [,39]      [,40]      [,41]      [,42]      [,43]
#> [1,] 0.01637317 0.02637317 0.03637317 0.04637317 0.05637317 0.06637317
#> [2,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [3,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [4,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [5,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [6,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#>           [,44]      [,45]      [,46]      [,47]      [,48]      [,49]
#> [1,] 0.07383729 0.06383729 0.05383729 0.04383729 0.03383729 0.02383729
#> [2,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [3,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [4,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [5,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#> [6,] 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000 0.00000000
#>           [,50]      [,51] [,52] [,53] [,54] [,55] [,56] [,57] [,58] [,59]
#> [1,] 0.01383729 0.00383729     0     0     0     0     0     0     0     0
#> [2,] 0.00000000 0.00000000     0     0     0     0     0     0     0     0
#> [3,] 0.00000000 0.00000000     0     0     0     0     0     0     0     0
#> [4,] 0.00000000 0.00000000     0     0     0     0     0     0     0     0
#> [5,] 0.00000000 0.00000000     0     0     0     0     0     0     0     0
#> [6,] 0.00000000 0.00000000     0     0     0     0     0     0     0     0
#>            [,60]      [,61]      [,62]      [,63]      [,64]     [,65]
#> [1,] 0.007176307 0.01717631 0.02717631 0.03717631 0.04717631 0.0559696
#> [2,] 0.000000000 0.00000000 0.00000000 0.00000000 0.00000000 0.0000000
#> [3,] 0.000000000 0.00000000 0.00000000 0.00000000 0.00000000 0.0000000
#> [4,] 0.000000000 0.00000000 0.00000000 0.00000000 0.00000000 0.0000000
#> [5,] 0.000000000 0.00000000 0.00000000 0.00000000 0.00000000 0.0000000
#> [6,] 0.000000000 0.00000000 0.00000000 0.00000000 0.00000000 0.0000000
#>          [,66]     [,67]     [,68]     [,69]       [,70] [,71] [,72] [,73]
#> [1,] 0.0459696 0.0359696 0.0259696 0.0159696 0.005969599     0     0     0
#> [2,] 0.0000000 0.0000000 0.0000000 0.0000000 0.000000000     0     0     0
#> [3,] 0.0000000 0.0000000 0.0000000 0.0000000 0.000000000     0     0     0
#> [4,] 0.0000000 0.0000000 0.0000000 0.0000000 0.000000000     0     0     0
#> [5,] 0.0000000 0.0000000 0.0000000 0.0000000 0.000000000     0     0     0
#> [6,] 0.0000000 0.0000000 0.0000000 0.0000000 0.000000000     0     0     0
#>      [,74] [,75] [,76] [,77] [,78] [,79] [,80] [,81] [,82] [,83] [,84] [,85]
#> [1,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [2,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [3,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [4,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [5,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [6,]     0     0     0     0     0     0     0     0     0     0     0     0
#>      [,86] [,87] [,88] [,89] [,90] [,91] [,92] [,93] [,94] [,95] [,96] [,97]
#> [1,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [2,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [3,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [4,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [5,]     0     0     0     0     0     0     0     0     0     0     0     0
#> [6,]     0     0     0     0     0     0     0     0     0     0     0     0
#>      [,98] [,99] [,100] [,101] [,102] [,103] [,104] [,105] [,106] [,107] [,108]
#> [1,]     0     0      0      0      0      0      0      0      0      0      0
#> [2,]     0     0      0      0      0      0      0      0      0      0      0
#> [3,]     0     0      0      0      0      0      0      0      0      0      0
#> [4,]     0     0      0      0      0      0      0      0      0      0      0
#> [5,]     0     0      0      0      0      0      0      0      0      0      0
#> [6,]     0     0      0      0      0      0      0      0      0      0      0
#>      [,109] [,110] [,111] [,112] [,113] [,114] [,115] [,116] [,117] [,118]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,119] [,120] [,121] [,122] [,123] [,124] [,125] [,126] [,127] [,128]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,129] [,130] [,131] [,132] [,133] [,134] [,135] [,136] [,137] [,138]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,139] [,140] [,141] [,142] [,143] [,144] [,145] [,146] [,147] [,148]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,149] [,150] [,151] [,152] [,153] [,154] [,155] [,156] [,157] [,158]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,159] [,160] [,161] [,162] [,163] [,164] [,165] [,166] [,167] [,168]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,169] [,170] [,171] [,172] [,173] [,174] [,175] [,176] [,177] [,178]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,179] [,180] [,181] [,182] [,183] [,184] [,185] [,186] [,187] [,188]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,189] [,190] [,191] [,192] [,193] [,194] [,195] [,196] [,197] [,198]
#> [1,]      0      0      0      0      0      0      0      0      0      0
#> [2,]      0      0      0      0      0      0      0      0      0      0
#> [3,]      0      0      0      0      0      0      0      0      0      0
#> [4,]      0      0      0      0      0      0      0      0      0      0
#> [5,]      0      0      0      0      0      0      0      0      0      0
#> [6,]      0      0      0      0      0      0      0      0      0      0
#>      [,199] [,200] [,201]
#> [1,]      0      0      0
#> [2,]      0      0      0
#> [3,]      0      0      0
#> [4,]      0      0      0
#> [5,]      0      0      0
#> [6,]      0      0      0
```

Exactly computed landscapes can be converted to discrete landscape
objects, but the other direction is not well-defined:

``` r
pl1$getDiscrete()
#> , , 1
#> 
#>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
#> [1,]  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9     1   1.1   1.2   1.3   1.4
#> [2,]  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9     1   1.1   1.2   1.3   1.4
#>      [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]
#> [1,]   1.5   1.6   1.7   1.8   1.9     2   2.1   2.2   2.3   2.4   2.5   2.6
#> [2,]   1.5   1.6   1.7   1.8   1.9     2   2.1   2.2   2.3   2.4   2.5   2.6
#>      [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37] [,38]
#> [1,]   2.7   2.8   2.9     3   3.1   3.2   3.3   3.4   3.5   3.6   3.7   3.8
#> [2,]   2.7   2.8   2.9     3   3.1   3.2   3.3   3.4   3.5   3.6   3.7   3.8
#>      [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47] [,48] [,49] [,50]
#> [1,]   3.9     4   4.1   4.2   4.3   4.4   4.5   4.6   4.7   4.8   4.9     5
#> [2,]   3.9     4   4.1   4.2   4.3   4.4   4.5   4.6   4.7   4.8   4.9     5
#>      [,51] [,52] [,53] [,54] [,55] [,56] [,57] [,58] [,59] [,60] [,61] [,62]
#> [1,]   5.1   5.2   5.3   5.4   5.5   5.6   5.7   5.8   5.9     6   6.1   6.2
#> [2,]   5.1   5.2   5.3   5.4   5.5   5.6   5.7   5.8   5.9     6   6.1   6.2
#>      [,63] [,64] [,65] [,66] [,67] [,68] [,69] [,70] [,71] [,72] [,73] [,74]
#> [1,]   6.3   6.4   6.5   6.6   6.7   6.8   6.9     7   7.1   7.2   7.3   7.4
#> [2,]   6.3   6.4   6.5   6.6   6.7   6.8   6.9     7   7.1   7.2   7.3   7.4
#>      [,75] [,76] [,77] [,78] [,79] [,80] [,81] [,82] [,83] [,84] [,85] [,86]
#> [1,]   7.5   7.6   7.7   7.8   7.9     8   8.1   8.2   8.3   8.4   8.5   8.6
#> [2,]   7.5   7.6   7.7   7.8   7.9     8   8.1   8.2   8.3   8.4   8.5   8.6
#>      [,87] [,88] [,89] [,90] [,91] [,92] [,93] [,94] [,95] [,96] [,97] [,98]
#> [1,]   8.7   8.8   8.9     9   9.1   9.2   9.3   9.4   9.5   9.6   9.7   9.8
#> [2,]   8.7   8.8   8.9     9   9.1   9.2   9.3   9.4   9.5   9.6   9.7   9.8
#>      [,99] [,100] [,101]
#> [1,]   9.9     10   10.1
#> [2,]   9.9     10   10.1
#> 
#> , , 2
#> 
#>      [,1] [,2] [,3] [,4]          [,5] [,6]          [,7]          [,8]
#> [1,]    0    0 -0.1 -0.1 -9.714451e-17 -0.1 -6.938894e-17 -6.938894e-17
#> [2,]    0    0  0.0  0.0  0.000000e+00  0.0  0.000000e+00  0.000000e+00
#>               [,9]         [,10]         [,11]         [,12]         [,13]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,14]         [,15]         [,16]         [,17]         [,18]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,19]         [,20]         [,21]         [,22]         [,23]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,24]         [,25]         [,26]         [,27]         [,28]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,29]         [,30]         [,31]         [,32]         [,33]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,34]         [,35]         [,36]         [,37]         [,38]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,39]         [,40]         [,41]         [,42]         [,43]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,44]         [,45]         [,46]         [,47]         [,48]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,49]         [,50]         [,51]         [,52]         [,53]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,54]         [,55]         [,56]         [,57]         [,58]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,59]         [,60]         [,61]         [,62]         [,63]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,64]         [,65]         [,66]         [,67]         [,68]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,69]         [,70]         [,71]         [,72]         [,73]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,74]         [,75]         [,76]         [,77]         [,78]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,79]         [,80]         [,81]         [,82]         [,83]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,84]         [,85]         [,86]         [,87]         [,88]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,89]         [,90]         [,91]         [,92]         [,93]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,94]         [,95]         [,96]         [,97]         [,98]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00
#>              [,99]        [,100]        [,101]
#> [1,] -6.938894e-17 -6.938894e-17 -6.938894e-17
#> [2,]  0.000000e+00  0.000000e+00  0.000000e+00
try(pl1d$getExact())
#> Error in pl1d$getExact() : 
#>   Error: Can not convert a discrete PL to an exact PL.
```

### Visualization

**plt** provides a `plot()` method for the ‘Rcpp_PersistenceLandscape’
class. It uses **grDevices** to build color palettes, and as such its
default palette is viridis; but the user may supply the name of a
recognized palette or a sequence of colors between which to interpolate:

``` r
plot(pl1, palette = "terrain")
```

![](man/figures/README-unnamed-chunk-11-1.png)<!-- -->

``` r
plot(pl1d, palette = "terrain")
```

![](man/figures/README-unnamed-chunk-11-2.png)<!-- -->

### Vector Operations

### Inner Product
